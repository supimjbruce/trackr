{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import invariant from'invariant';var listeners=[];export default{addEventListener:function addEventListener(type,listener){var _this=this;if(typeof window==='undefined'){return{remove:function remove(){}};}invariant(type==='url',`Linking.addEventListener(): ${type} is not a valid event`);var nativeListener=function nativeListener(nativeEvent){return listener({url:window.location.href,nativeEvent:nativeEvent});};listeners.push({listener:listener,nativeListener:nativeListener});window.addEventListener('message',nativeListener,false);return{remove:function remove(){_this.removeEventListener(type,listener);}};},removeEventListener:function removeEventListener(type,listener){if(typeof window==='undefined'){return;}invariant(type==='url',`Linking.addEventListener(): ${type} is not a valid event`);var listenerIndex=listeners.findIndex(function(pair){return pair.listener===listener;});invariant(listenerIndex!==-1,'Linking.removeEventListener(): cannot remove an unregistered event listener.');var nativeListener=listeners[listenerIndex].nativeListener;window.removeEventListener('message',nativeListener,false);listeners.splice(listenerIndex,1);},canOpenURL:function(){var _canOpenURL=_asyncToGenerator(function*(){return true;});function canOpenURL(){return _canOpenURL.apply(this,arguments);}return canOpenURL;}(),getInitialURL:function(){var _getInitialURL=_asyncToGenerator(function*(){if(typeof window==='undefined')return'';return window.location.href;});function getInitialURL(){return _getInitialURL.apply(this,arguments);}return getInitialURL;}(),openURL:function(){var _openURL=_asyncToGenerator(function*(url){if(typeof window!=='undefined'){window.location=new URL(url,window.location).toString();}});function openURL(_x){return _openURL.apply(this,arguments);}return openURL;}()};","map":{"version":3,"names":["invariant","listeners","addEventListener","type","listener","_this","window","remove","nativeListener","nativeEvent","url","location","href","push","removeEventListener","listenerIndex","findIndex","pair","splice","canOpenURL","_canOpenURL","_asyncToGenerator","apply","arguments","getInitialURL","_getInitialURL","openURL","_openURL","URL","toString","_x"],"sources":["/Users/jonathanbruce/Coding/trackr/node_modules/expo-linking/src/RNLinking.web.ts"],"sourcesContent":["import invariant from 'invariant';\n\nimport { NativeURLListener, URLListener } from './Linking.types';\n\nconst listeners: { listener: URLListener; nativeListener: NativeURLListener }[] = [];\n\nexport default {\n  addEventListener(type: 'url', listener: URLListener): { remove(): void } {\n    // Do nothing in Node.js environments\n    if (typeof window === 'undefined') {\n      return { remove() {} };\n    }\n\n    invariant(type === 'url', `Linking.addEventListener(): ${type} is not a valid event`);\n    const nativeListener: NativeURLListener = (nativeEvent) =>\n      listener({ url: window.location.href, nativeEvent });\n    listeners.push({ listener, nativeListener });\n    window.addEventListener('message', nativeListener, false);\n    return {\n      remove: () => {\n        this.removeEventListener(type, listener);\n      },\n    };\n  },\n\n  removeEventListener(type: 'url', listener: URLListener): void {\n    // Do nothing in Node.js environments\n    if (typeof window === 'undefined') {\n      return;\n    }\n    invariant(type === 'url', `Linking.addEventListener(): ${type} is not a valid event`);\n    const listenerIndex = listeners.findIndex((pair) => pair.listener === listener);\n    invariant(\n      listenerIndex !== -1,\n      'Linking.removeEventListener(): cannot remove an unregistered event listener.'\n    );\n    const nativeListener = listeners[listenerIndex].nativeListener;\n    window.removeEventListener('message', nativeListener, false);\n    listeners.splice(listenerIndex, 1);\n  },\n\n  async canOpenURL(): Promise<boolean> {\n    // In reality this should be able to return false for links like `chrome://` on chrome.\n    return true;\n  },\n\n  async getInitialURL(): Promise<string> {\n    if (typeof window === 'undefined') return '';\n    return window.location.href;\n  },\n\n  async openURL(url: string): Promise<void> {\n    if (typeof window !== 'undefined') {\n      // @ts-ignore\n      window.location = new URL(url, window.location).toString();\n    }\n  },\n};\n"],"mappings":"uEAAA,MAAO,CAAAA,SAAS,KAAM,WAAW,CAIjC,GAAM,CAAAC,SAAS,CAAmE,EAAE,CAEpF,cAAe,CACbC,gBAAgB,SAAhB,CAAAA,gBAAgBA,CAACC,IAAW,CAAEC,QAAqB,MAAAC,KAAA,MAEjD,GAAI,MAAO,CAAAC,MAAM,GAAK,WAAW,CAAE,CACjC,MAAO,CAAEC,MAAM,SAAN,CAAAA,MAAMA,CAAA,EAAI,CAAC,CAAE,C,CAGxBP,SAAS,CAACG,IAAI,GAAK,KAAK,CAAE,+BAA+BA,IAAI,uBAAuB,CAAC,CACrF,GAAM,CAAAK,cAAc,CAAsB,QAApC,CAAAA,cAAcA,CAAuBC,WAAW,QACpD,CAAAL,QAAQ,CAAC,CAAEM,GAAG,CAAEJ,MAAM,CAACK,QAAQ,CAACC,IAAI,CAAEH,WAAW,CAAXA,WAAW,CAAE,CAAC,GACtDR,SAAS,CAACY,IAAI,CAAC,CAAET,QAAQ,CAARA,QAAQ,CAAEI,cAAc,CAAdA,cAAc,CAAE,CAAC,CAC5CF,MAAM,CAACJ,gBAAgB,CAAC,SAAS,CAAEM,cAAc,CAAE,KAAK,CAAC,CACzD,MAAO,CACLD,MAAM,CAAE,QAAR,CAAAA,MAAMA,CAAA,CAAO,CACXF,KAAI,CAACS,mBAAmB,CAACX,IAAI,CAAEC,QAAQ,CAAC,CAC1C,C,CACD,CACH,CAAC,CAEDU,mBAAmB,SAAnB,CAAAA,mBAAmBA,CAACX,IAAW,CAAEC,QAAqB,EAEpD,GAAI,MAAO,CAAAE,MAAM,GAAK,WAAW,CAAE,CACjC,O,CAEFN,SAAS,CAACG,IAAI,GAAK,KAAK,CAAE,+BAA+BA,IAAI,uBAAuB,CAAC,CACrF,GAAM,CAAAY,aAAa,CAAGd,SAAS,CAACe,SAAS,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACb,QAAQ,GAAKA,QAAQ,GAAC,CAC/EJ,SAAS,CACPe,aAAa,GAAK,CAAC,CAAC,CACpB,8EAA8E,CAC/E,CACD,GAAM,CAAAP,cAAc,CAAGP,SAAS,CAACc,aAAa,CAAC,CAACP,cAAc,CAC9DF,MAAM,CAACQ,mBAAmB,CAAC,SAAS,CAAEN,cAAc,CAAE,KAAK,CAAC,CAC5DP,SAAS,CAACiB,MAAM,CAACH,aAAa,CAAE,CAAC,CAAC,CACpC,CAAC,CAEKI,UAAU,gBAAAC,WAAA,CAAAC,iBAAA,aAEd,MAAO,KAAI,CACb,CAAC,UAHK,CAAAF,UAAUA,CAAA,SAAAC,WAAA,CAAAE,KAAA,MAAAC,SAAA,SAAV,CAAAJ,UAAU,KAKVK,aAAa,gBAAAC,cAAA,CAAAJ,iBAAA,aACjB,GAAI,MAAO,CAAAf,MAAM,GAAK,WAAW,CAAE,MAAO,EAAE,CAC5C,MAAO,CAAAA,MAAM,CAACK,QAAQ,CAACC,IAAI,CAC7B,CAAC,UAHK,CAAAY,aAAaA,CAAA,SAAAC,cAAA,CAAAH,KAAA,MAAAC,SAAA,SAAb,CAAAC,aAAa,KAKbE,OAAO,gBAAAC,QAAA,CAAAN,iBAAA,WAACX,GAAW,EACvB,GAAI,MAAO,CAAAJ,MAAM,GAAK,WAAW,CAAE,CAEjCA,MAAM,CAACK,QAAQ,CAAG,GAAI,CAAAiB,GAAG,CAAClB,GAAG,CAAEJ,MAAM,CAACK,QAAQ,CAAC,CAACkB,QAAQ,EAAE,C,CAE9D,CAAC,UALK,CAAAH,OAAOA,CAAAI,EAAA,SAAAH,QAAA,CAAAL,KAAA,MAAAC,SAAA,SAAP,CAAAG,OAAO,I,CAMd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}