{"ast":null,"code":"\"use strict\";var _slicedToArray=require(\"@babel/runtime/helpers/slicedToArray\");var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}Object.defineProperty(exports,\"__esModule\",{value:true});exports.resolveHref=void 0;var resolveHref=function resolveHref(href){var _href$pathname;if(typeof href==='string'){return(0,exports.resolveHref)({pathname:href!=null?href:''});}var path=(_href$pathname=href.pathname)!=null?_href$pathname:'';if(!(href!=null&&href.params)){return path;}var _createQualifiedPathn=createQualifiedPathname(path,_objectSpread({},href.params)),pathname=_createQualifiedPathn.pathname,params=_createQualifiedPathn.params;var paramsString=createQueryParams(params);return pathname+(paramsString?`?${paramsString}`:'');};exports.resolveHref=resolveHref;function createQualifiedPathname(pathname,params){for(var _ref of Object.entries(params)){var _ref2=_slicedToArray(_ref,2);var key=_ref2[0];var _ref2$=_ref2[1];var value=_ref2$===void 0?'':_ref2$;var dynamicKey=`[${key}]`;var deepDynamicKey=`[...${key}]`;if(pathname.includes(dynamicKey)){pathname=pathname.replace(dynamicKey,encodeParam(value));}else if(pathname.includes(deepDynamicKey)){pathname=pathname.replace(deepDynamicKey,encodeParam(value));}else{continue;}delete params[key];}return{pathname:pathname,params:params};}function encodeParam(param){if(Array.isArray(param)){return param.map(function(p){return encodeParam(p);}).join('/');}return encodeURIComponent(param.toString());}function createQueryParams(params){return Object.entries(params).filter(function(_ref3){var _ref4=_slicedToArray(_ref3,2),value=_ref4[1];return value!=null;}).map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return`${key}=${encodeURIComponent(value.toString())}`;}).join('&');}","map":{"version":3,"names":["resolveHref","href","_href$pathname","exports","pathname","path","params","_createQualifiedPathn","createQualifiedPathname","_objectSpread","paramsString","createQueryParams","_ref","Object","entries","_ref2","_slicedToArray","key","_ref2$","value","dynamicKey","deepDynamicKey","includes","replace","encodeParam","param","Array","isArray","map","p","join","encodeURIComponent","toString","filter","_ref3","_ref4","_ref5","_ref6"],"sources":["/Users/jonathanbruce/Coding/trackr/node_modules/expo-router/src/link/href.ts"],"sourcesContent":["export type Href = string | HrefObject;\n\nexport interface HrefObject {\n  /** Path representing the selected route `/[id]`. */\n  pathname?: string;\n  /** Query parameters for the path. */\n  params?: Record<string, any>;\n}\n\n/** Resolve an href object into a fully qualified, relative href. */\nexport const resolveHref = (href: Href): string => {\n  if (typeof href === 'string') {\n    return resolveHref({ pathname: href ?? '' });\n  }\n  const path = href.pathname ?? '';\n  if (!href?.params) {\n    return path;\n  }\n  const { pathname, params } = createQualifiedPathname(path, {\n    ...href.params,\n  });\n  const paramsString = createQueryParams(params);\n  return pathname + (paramsString ? `?${paramsString}` : '');\n};\n\nfunction createQualifiedPathname(\n  pathname: string,\n  params: Record<string, any>\n): Omit<Required<HrefObject>, 'query'> {\n  for (const [key, value = ''] of Object.entries(params)) {\n    const dynamicKey = `[${key}]`;\n    const deepDynamicKey = `[...${key}]`;\n    if (pathname.includes(dynamicKey)) {\n      pathname = pathname.replace(dynamicKey, encodeParam(value));\n    } else if (pathname.includes(deepDynamicKey)) {\n      pathname = pathname.replace(deepDynamicKey, encodeParam(value));\n    } else {\n      continue;\n    }\n\n    delete params[key];\n  }\n  return { pathname, params };\n}\n\nfunction encodeParam(param: any): string {\n  if (Array.isArray(param)) {\n    return param.map((p) => encodeParam(p)).join('/');\n  }\n\n  return encodeURIComponent(param.toString());\n}\n\nfunction createQueryParams(params: Record<string, any>): string {\n  return (\n    Object.entries(params)\n      // Allow nullish params\n      .filter(([, value]) => value != null)\n      .map(([key, value]) => `${key}=${encodeURIComponent(value.toString())}`)\n      .join('&')\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}