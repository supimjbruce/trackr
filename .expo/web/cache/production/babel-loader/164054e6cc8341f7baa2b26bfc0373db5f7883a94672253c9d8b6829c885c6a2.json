{"ast":null,"code":"\"use strict\";var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");var _reactJsxRuntime=require(\"react/jsx-runtime\");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||(\"get\"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function get(){return m[k];}};}Object.defineProperty(o,k2,desc);}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};Object.defineProperty(exports,\"__esModule\",{value:true});exports.DefaultNavigator=exports.QualifiedSlot=exports.Slot=exports.useSlot=exports.useNavigatorContext=exports.Navigator=exports.NavigatorContext=void 0;var native_1=require(\"@react-navigation/native\");var React=__importStar(require(\"react\"));var react_native_safe_area_context_1=require(\"react-native-safe-area-context\");var Screen_1=require(\"./Screen\");var Route_1=require(\"../Route\");var withLayoutContext_1=require(\"../layouts/withLayoutContext\");var useScreens_1=require(\"../useScreens\");exports.NavigatorContext=React.createContext(null);if(\"production\"!=='production'){exports.NavigatorContext.displayName='NavigatorContext';}function Navigator(_ref){var initialRouteName=_ref.initialRouteName,screenOptions=_ref.screenOptions,children=_ref.children,router=_ref.router;var contextKey=(0,Route_1.useContextKey)();var _ref2=(0,withLayoutContext_1.useFilterScreenChildren)(children,{isCustomNavigator:true,contextKey:contextKey}),screens=_ref2.screens,otherSlot=_ref2.children;var sorted=(0,useScreens_1.useSortedScreens)(screens!=null?screens:[]);if(!sorted.length){console.warn(`Navigator at \"${contextKey}\" has no children.`);return null;}return _reactJsxRuntime.jsx(QualifiedNavigator,{initialRouteName:initialRouteName,screenOptions:screenOptions,screens:sorted,contextKey:contextKey,router:router,children:otherSlot});}exports.Navigator=Navigator;function QualifiedNavigator(_ref3){var initialRouteName=_ref3.initialRouteName,screenOptions=_ref3.screenOptions,children=_ref3.children,screens=_ref3.screens,contextKey=_ref3.contextKey,_ref3$router=_ref3.router,router=_ref3$router===void 0?native_1.StackRouter:_ref3$router;var _ref4=(0,native_1.useNavigationBuilder)(router,{id:contextKey,children:screens,screenOptions:screenOptions,initialRouteName:initialRouteName}),state=_ref4.state,navigation=_ref4.navigation,descriptors=_ref4.descriptors,NavigationContent=_ref4.NavigationContent;return _reactJsxRuntime.jsx(exports.NavigatorContext.Provider,{value:{contextKey:contextKey,state:state,navigation:navigation,descriptors:descriptors,router:router},children:_reactJsxRuntime.jsx(NavigationContent,{children:children})});}function useNavigatorContext(){var context=React.useContext(exports.NavigatorContext);if(!context){throw new Error('useNavigatorContext must be used within a <Navigator />');}return context;}exports.useNavigatorContext=useNavigatorContext;function useSlot(){var _descriptors$current$,_descriptors$current$2;var context=useNavigatorContext();var state=context.state,descriptors=context.descriptors;var current=state.routes.find(function(route,i){return state.index===i;});if(!current){return null;}return(_descriptors$current$=(_descriptors$current$2=descriptors[current.key])==null?void 0:_descriptors$current$2.render())!=null?_descriptors$current$:null;}exports.useSlot=useSlot;function Slot(props){var contextKey=(0,Route_1.useContextKey)();var context=React.useContext(exports.NavigatorContext);if((context==null?void 0:context.contextKey)!==contextKey){return _reactJsxRuntime.jsx(Navigator,_objectSpread(_objectSpread({},props),{},{children:_reactJsxRuntime.jsx(QualifiedSlot,{})}));}return _reactJsxRuntime.jsx(QualifiedSlot,{});}exports.Slot=Slot;function QualifiedSlot(){return useSlot();}exports.QualifiedSlot=QualifiedSlot;function DefaultNavigator(){return _reactJsxRuntime.jsx(react_native_safe_area_context_1.SafeAreaView,{style:{flex:1},children:_reactJsxRuntime.jsx(Navigator,{children:_reactJsxRuntime.jsx(QualifiedSlot,{})})});}exports.DefaultNavigator=DefaultNavigator;Navigator.Slot=Slot;Navigator.useContext=useNavigatorContext;Navigator.Screen=Screen_1.Screen;","map":{"version":3,"names":["native_1","require","React","__importStar","react_native_safe_area_context_1","Screen_1","Route_1","withLayoutContext_1","useScreens_1","exports","NavigatorContext","createContext","displayName","Navigator","_ref","initialRouteName","screenOptions","children","router","contextKey","useContextKey","_ref2","useFilterScreenChildren","isCustomNavigator","screens","otherSlot","sorted","useSortedScreens","length","console","warn","_reactJsxRuntime","jsx","QualifiedNavigator","_ref3","_ref3$router","StackRouter","_ref4","useNavigationBuilder","id","state","navigation","descriptors","NavigationContent","Provider","value","useNavigatorContext","context","useContext","Error","useSlot","_descriptors$current$","_descriptors$current$2","current","routes","find","route","i","index","key","render","Slot","props","_objectSpread","QualifiedSlot","DefaultNavigator","SafeAreaView","style","flex","Screen"],"sources":["/Users/jonathanbruce/Coding/trackr/node_modules/expo-router/src/views/Navigator.tsx"],"sourcesContent":["import { RouterFactory, StackRouter, useNavigationBuilder } from '@react-navigation/native';\nimport * as React from 'react';\nimport { SafeAreaView } from 'react-native-safe-area-context';\n\nimport { Screen } from './Screen';\nimport { useContextKey } from '../Route';\nimport { useFilterScreenChildren } from '../layouts/withLayoutContext';\nimport { useSortedScreens } from '../useScreens';\n\ntype NavigatorTypes = ReturnType<typeof useNavigationBuilder>;\n\n// TODO: This might already exist upstream, maybe something like `useCurrentRender` ?\nexport const NavigatorContext = React.createContext<{\n  contextKey: string;\n  state: NavigatorTypes['state'];\n  navigation: NavigatorTypes['navigation'];\n  descriptors: NavigatorTypes['descriptors'];\n  router: RouterFactory<any, any, any>;\n} | null>(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  NavigatorContext.displayName = 'NavigatorContext';\n}\n\nexport type NavigatorProps = {\n  initialRouteName?: Parameters<typeof useNavigationBuilder>[1]['initialRouteName'];\n  screenOptions?: Parameters<typeof useNavigationBuilder>[1]['screenOptions'];\n  children?: Parameters<typeof useNavigationBuilder>[1]['children'];\n  router?: Parameters<typeof useNavigationBuilder>[0];\n};\n\n/** An unstyled custom navigator. Good for basic web layouts */\nexport function Navigator({ initialRouteName, screenOptions, children, router }: NavigatorProps) {\n  const contextKey = useContextKey();\n\n  // Allows adding Screen components as children to configure routes.\n  const { screens, children: otherSlot } = useFilterScreenChildren(children, {\n    isCustomNavigator: true,\n    contextKey,\n  });\n\n  const sorted = useSortedScreens(screens ?? []);\n\n  if (!sorted.length) {\n    console.warn(`Navigator at \"${contextKey}\" has no children.`);\n    return null;\n  }\n\n  return (\n    <QualifiedNavigator\n      initialRouteName={initialRouteName}\n      screenOptions={screenOptions}\n      screens={sorted}\n      contextKey={contextKey}\n      router={router}>\n      {otherSlot}\n    </QualifiedNavigator>\n  );\n}\n\nfunction QualifiedNavigator({\n  initialRouteName,\n  screenOptions,\n  children,\n  screens,\n  contextKey,\n  router = StackRouter,\n}: NavigatorProps & { contextKey: string; screens: React.ReactNode[] }) {\n  const { state, navigation, descriptors, NavigationContent } = useNavigationBuilder(router, {\n    // Used for getting the parent with navigation.getParent('/normalized/path')\n    id: contextKey,\n    children: screens,\n    screenOptions,\n    initialRouteName,\n  });\n\n  return (\n    <NavigatorContext.Provider\n      value={{\n        contextKey,\n        state,\n        navigation,\n        descriptors,\n        router,\n      }}>\n      <NavigationContent>{children}</NavigationContent>\n    </NavigatorContext.Provider>\n  );\n}\n\nexport function useNavigatorContext() {\n  const context = React.useContext(NavigatorContext);\n  if (!context) {\n    throw new Error('useNavigatorContext must be used within a <Navigator />');\n  }\n  return context;\n}\n\nexport function useSlot() {\n  const context = useNavigatorContext();\n\n  const { state, descriptors } = context;\n\n  const current = state.routes.find((route, i) => {\n    return state.index === i;\n  });\n\n  if (!current) {\n    return null;\n  }\n\n  return descriptors[current.key]?.render() ?? null;\n}\n\n/** Renders the currently selected content. */\nexport function Slot(props: Omit<NavigatorProps, 'children'>) {\n  const contextKey = useContextKey();\n  const context = React.useContext(NavigatorContext);\n  // Ensure the context is for the current contextKey\n  if (context?.contextKey !== contextKey) {\n    // Qualify the content and re-export.\n    return (\n      <Navigator {...props}>\n        <QualifiedSlot />\n      </Navigator>\n    );\n  }\n\n  return <QualifiedSlot />;\n}\n\nexport function QualifiedSlot() {\n  return useSlot();\n}\n\nexport function DefaultNavigator() {\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <Navigator>\n        <QualifiedSlot />\n      </Navigator>\n    </SafeAreaView>\n  );\n}\n\nNavigator.Slot = Slot;\nNavigator.useContext = useNavigatorContext;\n\n/** Used to configure route settings. */\nNavigator.Screen = Screen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}