{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var react_native_1=require(\"react-native-web/dist/index\");var getPathFromState_1=require(\"../fork/getPathFromState\");var router_store_1=require(\"../global-state/router-store\");var matchers_1=require(\"../matchers\");function eventShouldPreventDefault(e){if(e!=null&&e.defaultPrevented){return false;}if('button'in e&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&(e.button==null||e.button===0)&&[undefined,null,'','self'].includes(e.currentTarget.target)){return true;}return false;}function useLinkToPathProps(props){var _ref=(0,router_store_1.useExpoRouter)(),linkTo=_ref.linkTo;var onPress=function onPress(e){var shouldHandle=false;if(react_native_1.Platform.OS!=='web'||!e){shouldHandle=e?!e.defaultPrevented:true;}else if(eventShouldPreventDefault(e)){e.preventDefault();shouldHandle=true;}if(shouldHandle){linkTo(props.href,props.event);}};return{href:(0,getPathFromState_1.appendBaseUrl)((0,matchers_1.stripGroupSegmentsFromPath)(props.href)||'/'),role:'link',onPress:onPress};}exports.default=useLinkToPathProps;","map":{"version":3,"names":["getPathFromState_1","require","router_store_1","matchers_1","eventShouldPreventDefault","e","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","button","undefined","includes","currentTarget","target","useLinkToPathProps","props","_ref","useExpoRouter","linkTo","onPress","shouldHandle","react_native_1","Platform","OS","preventDefault","href","event","appendBaseUrl","stripGroupSegmentsFromPath","role","exports","default"],"sources":["/Users/jonathanbruce/Coding/trackr/node_modules/expo-router/src/link/useLinkToPathProps.tsx"],"sourcesContent":["import * as React from 'react';\nimport { GestureResponderEvent, Platform } from 'react-native';\n\nimport { appendBaseUrl } from '../fork/getPathFromState';\nimport { useExpoRouter } from '../global-state/router-store';\nimport { stripGroupSegmentsFromPath } from '../matchers';\n\nfunction eventShouldPreventDefault(\n  e: React.MouseEvent<HTMLAnchorElement, MouseEvent> | GestureResponderEvent\n): boolean {\n  if (e?.defaultPrevented) {\n    return false;\n  }\n\n  if (\n    // Only check MouseEvents\n    'button' in e &&\n    // ignore clicks with modifier keys\n    !e.metaKey &&\n    !e.altKey &&\n    !e.ctrlKey &&\n    !e.shiftKey &&\n    (e.button == null || e.button === 0) && // Only accept left clicks\n    [undefined, null, '', 'self'].includes(e.currentTarget.target) // let browser handle \"target=_blank\" etc.\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport default function useLinkToPathProps(props: { href: string; event?: string }) {\n  const { linkTo } = useExpoRouter();\n\n  const onPress = (e?: React.MouseEvent<HTMLAnchorElement, MouseEvent> | GestureResponderEvent) => {\n    let shouldHandle = false;\n\n    if (Platform.OS !== 'web' || !e) {\n      shouldHandle = e ? !e.defaultPrevented : true;\n    } else if (eventShouldPreventDefault(e)) {\n      e.preventDefault();\n      shouldHandle = true;\n    }\n\n    if (shouldHandle) {\n      linkTo(props.href, props.event);\n    }\n  };\n\n  return {\n    // Ensure there's always a value for href. Manually append the baseUrl to the href prop that shows in the static HTML.\n    href: appendBaseUrl(stripGroupSegmentsFromPath(props.href) || '/'),\n    role: 'link' as const,\n    onPress,\n  };\n}\n"],"mappings":"gIAGA,IAAAA,kBAAA,CAAAC,OAAA,6BACA,IAAAC,cAAA,CAAAD,OAAA,iCACA,IAAAE,UAAA,CAAAF,OAAA,gBAEA,QAAS,CAAAG,yBAAyBA,CAChCC,CAA0E,EAE1E,GAAIA,CAAC,QAADA,CAAC,CAAEC,gBAAgB,CAAE,CACvB,MAAO,MAAK,C,CAGd,GAEE,QAAQ,EAAI,CAAAD,CAAC,EAEb,CAACA,CAAC,CAACE,OAAO,EACV,CAACF,CAAC,CAACG,MAAM,EACT,CAACH,CAAC,CAACI,OAAO,EACV,CAACJ,CAAC,CAACK,QAAQ,GACVL,CAAC,CAACM,MAAM,EAAI,IAAI,EAAIN,CAAC,CAACM,MAAM,GAAK,CAAC,CAAC,EACpC,CAACC,SAAS,CAAE,IAAI,CAAE,EAAE,CAAE,MAAM,CAAC,CAACC,QAAQ,CAACR,CAAC,CAACS,aAAa,CAACC,MAAM,CAAC,CAC9D,CACA,MAAO,KAAI,C,CAGb,MAAO,MAAK,CACd,CAEA,QAAwB,CAAAC,kBAAkBA,CAACC,KAAuC,EAChF,IAAAC,IAAA,CAAmB,GAAAhB,cAAA,CAAAiB,aAAa,GAAE,CAA1BC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAEd,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIhB,CAA2E,CAAI,CAC9F,GAAI,CAAAiB,YAAY,CAAG,KAAK,CAExB,GAAIC,cAAA,CAAAC,QAAQ,CAACC,EAAE,GAAK,KAAK,EAAI,CAACpB,CAAC,CAAE,CAC/BiB,YAAY,CAAGjB,CAAC,CAAG,CAACA,CAAC,CAACC,gBAAgB,CAAG,IAAI,C,CAC9C,IAAM,IAAIF,yBAAyB,CAACC,CAAC,CAAC,CAAE,CACvCA,CAAC,CAACqB,cAAc,EAAE,CAClBJ,YAAY,CAAG,IAAI,C,CAGrB,GAAIA,YAAY,CAAE,CAChBF,MAAM,CAACH,KAAK,CAACU,IAAI,CAAEV,KAAK,CAACW,KAAK,CAAC,C,CAEnC,CAAC,CAED,MAAO,CAELD,IAAI,CAAE,GAAA3B,kBAAA,CAAA6B,aAAa,EAAC,GAAA1B,UAAA,CAAA2B,0BAA0B,EAACb,KAAK,CAACU,IAAI,CAAC,EAAI,GAAG,CAAC,CAClEI,IAAI,CAAE,MAAe,CACrBV,OAAO,CAAPA,O,CACD,CACH,CAxBAW,OAAA,CAAAC,OAAA,CAAAjB,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}